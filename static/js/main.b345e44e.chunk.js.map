{"version":3,"sources":["Database.js","components/Header.js","components/Registro/RegistroComponent.js","models/Record.js","models/Publicador.js","models/Publico.js","models/Medio.js","components/Modals/ModalManage.js","components/Modals/ModalLista.js","components/Modals/ModalIngresar.js","components/Registro/RegistroBody.js","components/Modals/ModalImportDB.js","components/Modals/ModalHistorial.js","Utils.js","components/Otros/ChartLabel.js","components/Modals/ModalEstadisticas.js","components/Registro/RegistroHeader.js","components/Registro/RegistroContainer.js","components/Modals/ModalLogin.js","App.js","serviceWorker.js","index.js"],"names":["currentDatabase","Header","className","icon","Database","callback","initSqlJs","then","SQL","online","url","token","response","database","window","localStorage","getItem","createDatabase","db","toBinArray","run","server","this","setItem","testOnlineConnection","axios","get","headers","status","route","data","Notiflix","Report","Failure","post","delete","buildInitialTables","insertInitialData","saveExistingDatabase","files","f","r","FileReader","onload","Uints","Uint8Array","result","readAsArrayBuffer","command","toBinString","export","arraybuff","blob","Blob","a","document","createElement","body","appendChild","href","URL","createObjectURL","date","Date","year","getFullYear","month","getMonth","day","getDate","fecha","download","onclick","setTimeout","revokeObjectURL","click","table","id","stmt","prepare","getAsObject","step","console","log","free","sql","rows","push","arr","uarr","strings","i","length","String","fromCharCode","apply","subarray","join","str","l","charCodeAt","RegistroComponent","style","marginTop","props","children","React","Component","Record","hora","publicador","medio","publico","textos","tipo","isOnline","deleteInformation","executeCommand","postInformation","results","idRecord","hours","getHours","minutes","getMinutes","seconds","getSeconds","getLastInsertedId","getInformation","exec","lastResults","forEach","item","hora_year","hora_month","hora_day","hora_hour","hora_minute","hora_second","stats","publicos","map","title","value","cartas","color","statsMedio","medios","publicadores","revisitas","porPublicador","Publicador","nombre","grupo","invitado","isInvitado","idPublicador","allPublicadores","label","Publico","idPublico","allPublicos","Medio","idMedio","getAllMedios","allMedios","ModalManage","forwardRef","ref","useState","show","setShow","useImperativeHandle","handleModalOpen","event","Modal","onHide","closeButton","Title","Body","allElements","key","onClick","deleteFunction","customStyles","menu","provided","state","backgroundColor","zIndex","option","isFocused","input","control","background","borderColor","singleValue","ModalLista","lista","setLista","history","setHistory","handleModalClose","addGuest","prompt","undefined","trim","Loading","Arrows","insert","newObject","refreshData","Notify","Success","updateListaEspera","refreshServerLista","Remove","updateServerLista","newLista","publisher","newState","obj","list","containsObject","checkParticipacion","nobodyParticipated","splice","indexOf","deleteElement","Form","Group","as","Row","Label","column","sm","Col","InputGroup","options","styles","name","onChange","Append","Button","variant","paddingTop","index","replacePublicador","modifyCurrentName","ModalIngresar","campos","fields","field","default","setFields","handleChange","target","type","prevState","checked","Control","preventDefault","submitFunction","RegistroBody","showModalIngresarPublicador","setShowModalIngresarPublicador","showModalIngresarMedio","setShowModalIngresarMedio","showModalIngresarPublico","setShowModalIngresarPublico","fldPublicador","fldDestinatario","fldMedio","fldTextos","fldTipo","fldForm","setFldForm","modalRefPublicadores","useRef","modalRefMedios","modalRefPublicos","modalRefLista","current","resetForm","reset","openLista","handleSubmit","deletePublicador","getById","targetPublicador","deleteMedio","targetMedio","deletePublico","targetPublico","openModalIngresar","addPublicador","addMedio","addPublico","onSubmit","Prepend","FormControl","Check","ModalImportDB","handleFiles","importDatabase","handleDrop","e","dataTransfer","highlight","getElementById","classList","add","unhighlight","remove","preventDefaults","stopPropagation","useEffect","eventName","addEventListener","htmlFor","ModalHistorial","records","deleteRecord","targetRecord","intervalType","Math","floor","interval","timeSince","ChartLabel","display","paddingRight","height","width","float","paddingLeft","EstadisticasItem","textAlign","ModalEstadisticas","estadisticas","setEstadisticas","loadData","getDailyStats","Carousel","Item","round","dataEntry","percentage","labelStyle","fontSize","fontFamily","fill","CustomToggle","RegistroHeader","modalRef","modalHistoryRef","modalEstadisticasRef","Dropdown","Toggle","Menu","confirm","exportExistingDatabase","removeItem","location","reload","showLista","marginLeft","allLetters","RegistroContainer","bodyRef","ModalLogin","userName","password","block","servidor","charAt","substr","username","res","handleServerLogin","catch","err","library","faAddressBook","faCog","faPlusSquare","faPencilAlt","faTrashAlt","faCommentDots","faEnvelope","faHandPaper","faBook","faUserEdit","faUndoAlt","faFile","faFolder","faDownload","faEllipsisH","faHistory","faChartPie","faMoon","faHiking","faSignOutAlt","Init","success","titleColor","messageColor","buttonColor","App","setAllPublicadores","setAllPublicos","setAllMedios","setAllLetters","showLogin","setShowLogin","setOnline","filtros","initOnlineServer","handleShowLogin","getAllPublicadores","receivedPublicadores","getAllPublicos","receivedPublicos","receivedMedios","getAllRecords","receivedLetters","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.b345e44e.chunk.js","sourcesContent":["import initSqlJs from \"sql.js\";\r\nimport axios from \"axios\"\r\nimport Notiflix from \"notiflix-react\"\r\n\r\nlet currentDatabase\r\n\r\nclass Database{\r\n    constructor(callback){\r\n        \r\n        initSqlJs().then(SQL => {\r\n        this.online=false\r\n        this.url=\"\"\r\n        this.token=\"\"\r\n        this.SQL=SQL\r\n        this.response=false\r\n        let database=window.localStorage.getItem(\"rcchDB\")\r\n        \r\n        if(database==null){\r\n           this.createDatabase()\r\n        }else{\r\n            this.db=new this.SQL.Database(this.toBinArray(database));\r\n        }\r\n        this.db.run(\"PRAGMA foreign_keys = ON;\")\r\n        currentDatabase=this\r\n        if (callback!=null) callback()\r\n    })\r\n    }\r\n    async initOnlineServer(server, token){\r\n        if(!this.response){\r\n        this.online=true\r\n        this.url=server\r\n        this.token=token\r\n        window.localStorage.setItem(\"sessionToken\", token)\r\n        window.localStorage.setItem(\"server\",server)\r\n        const response= await this.testOnlineConnection()\r\n        this.response=response\r\n        if (!response){\r\n            this.online=false\r\n        }\r\n        }\r\n\r\n        return this.response\r\n    }\r\n    async testOnlineConnection(){\r\n        try{\r\n        const response=await axios.get(this.url+\"/misc/test\", {\r\n            headers: {\r\n              'access-token': this.token\r\n            }\r\n          })\r\n         return response.status==200\r\n        }catch(err){\r\n            return false\r\n        }\r\n    }\r\n    async getInformation(route){\r\n        try{\r\n            const response=await axios.get(this.url+route, {\r\n                headers: {\r\n                  'access-token': this.token\r\n                }\r\n              })\r\n             return response.data\r\n            }catch(err){\r\n                Notiflix.Report.Failure('Información','Sin conexión con el servidor. Vuelva a iniciar sesión','OK');\r\n                return false\r\n            }\r\n    }\r\n    async postInformation(route, data){\r\n        try{\r\n            const response=await axios.post(this.url+route,data, {\r\n                headers: {\r\n                  'access-token': this.token\r\n                }\r\n              })\r\n             return response.data\r\n            }catch(err){\r\n                Notiflix.Report.Failure('Información','Sin conexión con el servidor. Vuelva a iniciar sesión','OK');\r\n                return false\r\n            }\r\n    }\r\n    async deleteInformation(route){\r\n        try{\r\n            const response=await axios.delete(this.url+route, {\r\n                headers: {\r\n                  'access-token': this.token\r\n                }\r\n              })\r\n             return response.data\r\n            }catch(err){\r\n                Notiflix.Report.Failure('Información','Sin conexión con el servidor. Vuelva a iniciar sesión','OK');\r\n                return false\r\n            }\r\n    }\r\n    createDatabase(){\r\n        this.db=new this.SQL.Database()\r\n        this.buildInitialTables()\r\n        this.insertInitialData()\r\n        this.saveExistingDatabase()\r\n    }\r\n\r\n    importDatabase(files, callback){\r\n    \r\n        var f = files[0];\r\n        var r = new FileReader();\r\n        r.onload = () => {\r\n            var Uints = new Uint8Array(r.result);\r\n            this.db = new this.SQL.Database(Uints);\r\n            if (callback!==null) callback()\r\n            \r\n        }\r\n        r.readAsArrayBuffer(f);\r\n        \r\n    }\r\n    getBDID(){\r\n        return this.db.db\r\n    }\r\n    isOnline(){\r\n        return this.online\r\n    }\r\n    \r\n    executeCommand(command){\r\n        this.db.run(command)\r\n        this.saveExistingDatabase()\r\n    }\r\n    saveExistingDatabase(){\r\n        window.localStorage.setItem(\"rcchDB\",this.toBinString(this.db.export()));\r\n    }\r\n    exportExistingDatabase(){\r\n        var arraybuff = this.db.export();\r\n\t\tvar blob = new Blob([arraybuff]);\r\n\t\tvar a = document.createElement(\"a\");\r\n\t\tdocument.body.appendChild(a);\r\n        a.href = window.URL.createObjectURL(blob);\r\n        var date = new Date(); \r\n        var year=date.getFullYear()\r\n        var month=date.getMonth()+1;\r\n        if (month<10) month=\"0\"+month;\r\n        var day=date.getDate();\r\n        if (day<10) day=\"0\"+day;\r\n        let fecha=day+\"-\"+month+\"-\"+year;\r\n\r\n\t\ta.download = \"registro_\"+fecha+\".rcch\";\r\n\t\ta.onclick = function () {\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\twindow.URL.revokeObjectURL(a.href);\r\n\t\t\t}, 1500);\r\n\t\t};\r\n\t\ta.click();\r\n    }\r\n    buildInitialTables(){\r\n       this.db.run(\"CREATE TABLE publicadores (id integer primary key autoincrement, nombre varchar(255) NOT NULL, grupo int(11) not null default '0', invitado boolean);\")\r\n       this.db.run(\"CREATE TABLE medio (id integer primary key autoincrement, nombre varchar(255) NOT NULL, color varchar(255));\")\r\n       this.db.run(\"CREATE TABLE publico (id integer primary key autoincrement, nombre varchar(255) NOT NULL, color varchar(255));\")\r\n       this.db.run(\"CREATE TABLE records (id integer primary key autoincrement, hora datetime not null, publicador integer not null, medio integer NOT NULL, publico integer not null, textos integer not null, tipo integer not null, FOREIGN KEY (publicador) REFERENCES publicadores(id) ON DELETE CASCADE,FOREIGN KEY (publico) REFERENCES publico(id) ON DELETE CASCADE, FOREIGN KEY (medio) REFERENCES medio(id) ON DELETE CASCADE);\")\r\n    }\r\n    insertInitialData(){\r\n\r\n        this.db.run(\"insert into publico (nombre, color) values ('Público general', 'purple')\");\r\n        this.db.run(\"insert into publico (nombre, color) values ('Familiar', 'red')\");\r\n        this.db.run(\"insert into publico (nombre, color) values ('Conocido', 'green')\");\r\n        this.db.run(\"insert into publico (nombre, color) values ('Paciente', 'blue')\");\r\n        this.db.run(\"insert into publico (nombre, color) values ('Trabajador', 'grey')\");\r\n\r\n        this.db.run(\"insert into medio (nombre, color) values ('Personalmente', 'orange')\");\r\n        this.db.run(\"insert into medio (nombre, color) values ('WhatsApp', 'green')\");\r\n        this.db.run(\"insert into medio (nombre, color) values ('Email', 'blue')\");\r\n        this.db.run(\"insert into medio (nombre, color) values ('Teléfono', 'pink')\");\r\n        this.db.run(\"insert into medio (nombre, color) values ('Servicio postal', 'yellow')\");\r\n    }\r\n\r\n    getLastInsertedId(table){\r\n        let id=0\r\n        let stmt = this.db.prepare(\"SELECT max(id) as id from \"+table)\r\n        stmt.getAsObject()\r\n        \r\n        while(stmt.step()) { //\r\n            let row = stmt.getAsObject()\r\n            id=row.id\r\n            console.log(\"flag\")\r\n        }\r\n        stmt.free()\r\n        console.log(id)\r\n        return id\r\n    }\r\n    exec(sql){\r\n        let stmt = this.db.prepare(sql)\r\n        stmt.getAsObject()\r\n        let rows=[]\r\n        while(stmt.step()) { //\r\n            rows.push(stmt.getAsObject())\r\n        }\r\n        stmt.free()\r\n        return rows;\r\n        \r\n    }\r\n\r\n      toBinString (arr) {\r\n        var uarr = new Uint8Array(arr);\r\n        var strings = [], chunksize = 0xffff;\r\n        // There is a maximum stack size. We cannot call String.fromCharCode with as many arguments as we want\r\n        for (var i=0; i*chunksize < uarr.length; i++){\r\n            strings.push(String.fromCharCode.apply(null, uarr.subarray(i*chunksize, (i+1)*chunksize)));\r\n        }\r\n        return strings.join('');\r\n    }\r\n    \r\n    toBinArray (str) {\r\n        var l = str.length,\r\n                arr = new Uint8Array(l);\r\n        for (var i=0; i<l; i++) arr[i] = str.charCodeAt(i);\r\n        return arr;\r\n    }\r\n    \r\n}\r\nexport {Database, currentDatabase}","import React from \"react\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\n\r\nconst Header=()=>{\r\n    return(\r\n     <nav className=\"navbar navbar-expand-md shadow-sm\" >\r\n            <div className=\"container\">\r\n                <div className=\"navbar-brand deco-none\">\r\n                    <FontAwesomeIcon icon=\"address-book\" /> Registro de Cartas Congregación La Herradura\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\nexport default Header","import React from \"react\"\r\n\r\nclass RegistroComponent extends React.Component{\r\n    render(){\r\n        return(\r\n            <div className=\"container\" style={{marginTop:\"2%\"}}>\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-md-8\">\r\n                        <div className=\"card\">\r\n                            {this.props.children}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default RegistroComponent","import {currentDatabase} from \"../Database\"\r\nclass Record{\r\n    constructor(id,hora,publicador,medio,publico,textos,tipo){\r\n        this.id=id\r\n        this.hora=hora\r\n        this.publicador=publicador\r\n        this.medio=medio\r\n        this.publico=publico\r\n        this.textos=textos\r\n        this.tipo=tipo\r\n    }\r\n    static async insert(publicador,medio,publico,textos,tipo){\r\n        if (currentDatabase.isOnline()){\r\n\r\n            const results=await currentDatabase.postInformation(\"/records\",{publicador: publicador, medio: medio, publico:publico, textos:textos, tipo:tipo})\r\n            \r\n            return new Record(results.idRecord, results.publicador, results.medio, results.publico, results.textos, results.tipo)\r\n            \r\n        }else{\r\n        \r\n            var date = new Date(); \r\n            var year=date.getFullYear()\r\n            var month=date.getMonth()+1;\r\n            if (month<10) month=\"0\"+month;\r\n            var day=date.getDate();\r\n            if (day<10) day=\"0\"+day;\r\n            var hours=date.getHours();\r\n            if(hours<10) hours=\"0\"+hours;\r\n            var minutes=date.getMinutes();\r\n            if (minutes<10) minutes=\"0\"+minutes;\r\n            var seconds=date.getSeconds();\r\n            if(seconds<10) seconds=\"0\"+seconds;\r\n            let hora=year+\"-\"+month+\"-\"+day+\" \"+hours + \":\"  + minutes + \":\"  + seconds;\r\n            currentDatabase.executeCommand(\"insert into records (hora, publicador, medio, publico, textos, tipo) values ('\"+hora+\"',\"+publicador+\",\"+medio+\",\"+publico+\",\"+textos+\",\"+tipo+\")\")\r\n            let id=currentDatabase.getLastInsertedId(\"records\")\r\n           return new Record(id, hora, publicador, medio, publico, textos,tipo)\r\n        }\r\n      \r\n    }\r\n    async delete(){\r\n        if (currentDatabase.isOnline()){\r\n            const result=await currentDatabase.deleteInformation(\"/records/\"+this.id)\r\n            return true\r\n        }else {\r\n        currentDatabase.executeCommand(\"delete from records where id=\"+this.id)\r\n        return true\r\n        }\r\n    }\r\n    static async getById(id){\r\n        if (currentDatabase.isOnline()){\r\n            const results=await currentDatabase.getInformation(\"/records/\"+id)\r\n            return new Record(results.idRecord, results.publicador, results.medio, results.publico, results.textos, results.tipo)\r\n            \r\n        }else {\r\n        let results=currentDatabase.exec(\"select * from records where id=\"+id)\r\n        if (results.length==0) return false\r\n        return new Record(results[0].id, results[0].hora, results[0].publicador, results[0].medio, results[0].publico, results[0].textos, results[0].tipo)\r\n        }\r\n    }\r\n    static async getAllRecords(){\r\n        if (currentDatabase.isOnline()){\r\n            const results=await currentDatabase.getInformation(\"/records/getLast\")\r\n            var lastResults=[]\r\n            results.forEach(item =>{\r\n                lastResults.push({...item, hora: item.hora_year+\"-\"+item.hora_month+\"-\"+item.hora_day+\" \"+ item.hora_hour+\":\"+ item.hora_minute+\":\"+ item.hora_second})\r\n            })\r\n            return lastResults\r\n        }else{\r\n            return currentDatabase.exec(\"select r.id, r.hora, r.textos, r.tipo, p.nombre as publicador, d.nombre as publico, m.nombre as medio from records r left join publicadores p on (r.publicador=p.id) left join publico d on (r.publico=d.id) left join medio m on (r.medio=m.id) order by 1 desc\")\r\n        }\r\n    }\r\n    static async getDailyStats(){\r\n        if (currentDatabase.isOnline()){\r\n            const results=await currentDatabase.getInformation(\"/estadisticas/today\")\r\n            return results\r\n        }else{\r\n        var date = new Date(); \r\n            var year=date.getFullYear()\r\n            var month=date.getMonth()+1;\r\n            if (month<10) month=\"0\"+month;\r\n            var day=date.getDate();\r\n            if (day<10) day=\"0\"+day;\r\n            let fecha=year+\"-\"+month+\"-\"+day;\r\n            const stats=currentDatabase.exec(\"select count(*) as cartas, count(distinct(publicador)) as publicadores, sum(textos) as textos, SUM(CASE WHEN tipo = 1 THEN 1 ELSE 0 END) as revisitas, round(count(*)/count(distinct(publicador)),1) as porPublicador  from records where date(hora)=date('\"+fecha+\"')\")\r\n            let publicos=[]\r\n            let statsPublico=currentDatabase.exec(\"select p.nombre as publico, count (r.id) as cartas, p.color  from records r left join publico p on (r.publico=p.id) group by publico having date('\"+fecha+\"')=date(hora)\")\r\n            statsPublico.map(item =>{\r\n                publicos.push({\r\n                    title: item.publico,\r\n                    value: item.cartas,\r\n                    color: item.color\r\n                })\r\n            })\r\n            let statsMedio=currentDatabase.exec(\"select m.nombre as medio, count (r.id) as cartas, m.color  from records r left join medio m on (r.medio=m.id) group by medio having date('\"+fecha+\"')=date(hora)\")\r\n            let medios=[]\r\n            statsMedio.map(item =>{\r\n                medios.push({\r\n                    title: item.medio,\r\n                    value: item.cartas,\r\n                    color:item.color\r\n                })\r\n            })\r\n            return {\r\n                cartas:stats[0].cartas,\r\n            publicadores:stats[0].publicadores,\r\n            textos:stats[0].textos,\r\n            revisitas:stats[0].revisitas,\r\n            porPublicador:stats[0].porPublicador,\r\n            publicos: publicos,\r\n            medios: medios\r\n        \r\n            }\r\n        }\r\n        }\r\n}\r\nexport default Record","import {currentDatabase} from \"../Database\"\r\nclass Publicador{\r\n    constructor(id,nombre,grupo, invitado){\r\n        this.id=id\r\n        this.nombre=nombre\r\n        this.grupo=grupo\r\n        this.invitado=invitado\r\n    }\r\n    static async insert(nombre, grupo, isInvitado){\r\n        if (currentDatabase.isOnline()){\r\n\r\n            const results=await currentDatabase.postInformation(\"/publicadores\",{nombre: nombre, grupo: grupo, invitado: isInvitado})\r\n            \r\n            return new Publicador(results.idPublicador, results.nombre, results.grupo, results.invitado)\r\n            \r\n        }else{\r\n            currentDatabase.executeCommand(\"insert into publicadores (nombre,grupo, invitado) values ('\"+nombre+\"',\"+grupo+\", \"+isInvitado+\")\")\r\n            let id=currentDatabase.getLastInsertedId(\"publicadores\")\r\n            return new Publicador(id, nombre, grupo, isInvitado)\r\n        }\r\n         \r\n    }\r\n    async delete(){\r\n        if (currentDatabase.isOnline()){\r\n            const result=await currentDatabase.deleteInformation(\"/publicadores/\"+this.id)\r\n            return true\r\n        }else {\r\n            currentDatabase.executeCommand(\"delete from publicadores where id=\"+this.id)\r\n            return true\r\n        }\r\n    }\r\n    static async getById(id){\r\n        if (currentDatabase.isOnline()){\r\n            const result=await currentDatabase.getInformation(\"/publicadores/\"+id)\r\n            return new Publicador(result.idPublicador,result.nombre, result.grupo, result.invitado )\r\n        }else {\r\n            let results=currentDatabase.exec(\"select * from publicadores where id=\"+id)\r\n            if (results.length==0) return false\r\n            return new Publicador(results[0].id, results[0].nombre, results[0].isInvitado)\r\n        }\r\n\r\n    }\r\n    static async getAllPublicadores(){\r\n        if (currentDatabase.isOnline()){\r\n            const results=await currentDatabase.getInformation(\"/publicadores/getAll\")\r\n            var allPublicadores=[]\r\n            results.forEach(item =>{\r\n                allPublicadores.push({value: item.idPublicador, label: item.nombre})\r\n            })\r\n            \r\n            return allPublicadores\r\n        }else{\r\n        return currentDatabase.exec(\"select id as value, nombre as label from publicadores\")\r\n        }\r\n    }\r\n}\r\nexport default Publicador","import {currentDatabase} from \"../Database\"\r\nclass Publico{\r\n    constructor(id,nombre, color){\r\n        this.id=id\r\n        this.nombre=nombre\r\n        this.color=color\r\n    }\r\n    static async insert(nombre, color){\r\n        if (currentDatabase.isOnline()){\r\n\r\n            const results=await currentDatabase.postInformation(\"/publicos\",{nombre: nombre, color: color})\r\n            \r\n            return new Publico(results.idPublico, results.nombre, results.color)\r\n            \r\n        }else{\r\n            currentDatabase.executeCommand(\"insert into publico (nombre, color) values ('\"+nombre+\"', '\"+color+\"')\")\r\n            let id=currentDatabase.getLastInsertedId(\"publico\")\r\n            return new Publico(id, nombre, color)\r\n        }\r\n         \r\n    }\r\n    async delete(){\r\n        if (currentDatabase.isOnline()){\r\n            const result=await currentDatabase.deleteInformation(\"/publicos/\"+this.id)\r\n            return true\r\n        }else {\r\n        currentDatabase.executeCommand(\"delete from publico where id=\"+this.id)\r\n        return true\r\n        }\r\n    }\r\n    static async getById(id){\r\n        if (currentDatabase.isOnline()){\r\n            const result=await currentDatabase.getInformation(\"/publicos/\"+id)\r\n            return new Publico(result.idPublico,result.nombre, result.color)\r\n        }else {\r\n        let results=currentDatabase.exec(\"select * from publico where id=\"+id)\r\n        if (results.length==0) return false\r\n        return new Publico(results[0].id, results[0].nombre, results[0].color)\r\n        }\r\n    }\r\n    static async getAllPublicos(){\r\n        if (currentDatabase.isOnline()){\r\n            const results=await currentDatabase.getInformation(\"/publicos/getAll\")\r\n            var allPublicos=[]\r\n            results.forEach(item =>{\r\n                allPublicos.push({value: item.idPublico, label: item.nombre})\r\n            })\r\n            \r\n            return allPublicos\r\n        }else{\r\n        return currentDatabase.exec(\"select id as value, nombre as label from publico\")\r\n        }\r\n    }\r\n}\r\nexport default Publico","import {currentDatabase} from \"../Database\"\r\nclass Medio{\r\n    constructor(id,nombre, color){\r\n        this.id=id\r\n        this.nombre=nombre\r\n        this.color=color\r\n    }\r\n    static async insert(nombre, color){\r\n        if (currentDatabase.isOnline()){\r\n\r\n            const results=await currentDatabase.postInformation(\"/medios\",{nombre: nombre, color: color})\r\n            \r\n            return new Medio(results.idMedio, results.nombre, results.color)\r\n            \r\n        }else{\r\n            currentDatabase.executeCommand(\"insert into medio (nombre, color) values ('\"+nombre+\"', '\"+color+\"')\")\r\n            let id=currentDatabase.getLastInsertedId(\"medio\")\r\n            return new Medio(id, nombre, color)\r\n        }\r\n         \r\n    }\r\n    async delete(){\r\n        if (currentDatabase.isOnline()){\r\n            const result=await currentDatabase.deleteInformation(\"/medios/\"+this.id)\r\n            return true\r\n        }else {\r\n        currentDatabase.executeCommand(\"delete from medio where id=\"+this.id)\r\n        return true\r\n        }\r\n    }\r\n    static async getById(id){\r\n        if (currentDatabase.isOnline()){\r\n            const result=await currentDatabase.getInformation(\"/medios/\"+id)\r\n            return new Medio(result.idMedio,result.nombre, result.color)\r\n        }else {\r\n        let results=currentDatabase.exec(\"select * from medio where id=\"+id)\r\n        if (results.length==0) return false\r\n        return new Medio(results[0].id, results[0].nombre, results[0].color)\r\n        }\r\n    }\r\n    static getAllMedios=async() =>{\r\n        if (currentDatabase.isOnline()){\r\n            const results=await currentDatabase.getInformation(\"/medios/getAll\")\r\n            var allMedios=[]\r\n            results.forEach(item =>{\r\n                allMedios.push({value: item.idMedio, label: item.nombre})\r\n            })\r\n            \r\n            return allMedios\r\n        }else{\r\n            return currentDatabase.exec(\"select id as value, nombre as label from medio\")\r\n        }\r\n    }\r\n}\r\nexport default Medio","import React, {useEffect} from \"react\"\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Notiflix from \"notiflix-react\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\n\r\n\r\n\r\n\r\nconst ModalManage = React.forwardRef((props, ref) => {  \r\n    const [show, setShow] = React.useState(false)   \r\n\r\n    \r\n    const handleModalClose=event =>{\r\n        setShow(false)\r\n    }\r\n    React.useImperativeHandle(ref, () => ({\r\n        handleModalOpen(event){\r\n            setShow(true)\r\n        }\r\n    }))\r\n \r\n   \r\n        return (\r\n    \r\n            <Modal show={show} onHide={handleModalClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Gestionar {props.tipo}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                {props.allElements.map(item => <a key={item.value} className=\"list-group-item list-group-item-action flex-column align-items-start\"><div key={\"div\"+item.value} className='d-flex w-100 justify-content-between' ><h5 key={\"h5\"+item.value} className='mb-1'>{item.label}</h5><small key={\"small\"+item.value} className='text-muted'><FontAwesomeIcon key={\"fw\"+item.value} onClick={() => props.deleteFunction(item.value)} icon=\"trash-alt\" /></small></div></a>)}\r\n            </Modal.Body>\r\n            </Modal>\r\n        )\r\n  })\r\n\r\n  export default ModalManage","import React, {useState} from \"react\"\r\nimport Publicador from \"../../models/Publicador\"\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Notiflix from \"notiflix-react\"\r\nimport Select from \"react-select\"\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faListAlt } from \"@fortawesome/free-solid-svg-icons\"\r\nimport {currentDatabase} from \"../../Database\"\r\n\r\n\r\n\r\nconst customStyles = {\r\n    menu: (provided, state) => ({\r\n      ...provided,\r\n      backgroundColor: \"#181818\",\r\n      color: \"#AEBEAE\",\r\n      zIndex: 3\r\n    }),\r\n    option:(provided,state) =>({\r\n        ...provided,\r\n        backgroundColor: state.isFocused ? \"#222222\" : \"181818\",\r\n      color: \"#AEBEAE\"\r\n    }),\r\n    input: (provided, state)=> ({\r\n    ...provided,\r\n      color: \"#AEBEAE\"\r\n    }),\r\n    control: (provided, state) => ({\r\n      ...provided,\r\n      background: \"transparent\",\r\n      borderColor: \"#404040\"\r\n      \r\n    }),\r\n    singleValue: (provided, state) => {\r\n  \r\n      return { ...provided, color: \"#AEBEAE\" };\r\n    }\r\n  }\r\n\r\nconst ModalLista= React.forwardRef((props, ref)=>{\r\n    const [show, setShow] = React.useState(false) \r\n    const [lista, setLista] = React.useState([])\r\n    const [history, setHistory] = React.useState([])\r\n    \r\n    const handleModalClose=async (event) =>{\r\n        setShow(false)\r\n    }\r\n    const handleChange= event =>{\r\n        updateListaEspera(event);\r\n        Notiflix.Notify.Success(\"Publicador agregado a la lista\")\r\n       \r\n    }\r\n    const addGuest= async()=>{\r\n        const nombre= window.prompt(\"Ingrese nombre del invitado\")\r\n        if (nombre===null || nombre===undefined || nombre.trim()===\"\" ) return false\r\n        Notiflix.Loading.Arrows('Agregando invitado');\r\n        let newObject= await Publicador.insert(nombre, 0, true)\r\n        await props.refreshData({publicadores: true})\r\n        Notiflix.Notify.Success(\"Invitado agregado\")\r\n        updateListaEspera({\r\n            label: nombre,\r\n            value: newObject.id\r\n        })\r\n        return true\r\n    }\r\n    const containsObject = (obj, list) =>{\r\n        var i;\r\n        for (i = 0; i < list.length; i++) {\r\n            if (list[i] === obj) {\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        return false;\r\n    }\r\n\r\n    React.useImperativeHandle(ref, () => ({\r\n        async handleModalOpen(event){\r\n            Notiflix.Loading.Arrows('Recuperando lista de espera');\r\n            await refreshServerLista()\r\n            setShow(true)\r\n            Notiflix.Loading.Remove()\r\n\r\n        }\r\n    }))\r\n\r\n    const updateServerLista = async (newLista) =>{\r\n        if(currentDatabase.isOnline()){\r\n            await currentDatabase.postInformation(\"/listas\", {lista: newLista})\r\n        }\r\n        return true\r\n    }\r\n    const refreshServerLista= async () =>{\r\n        if(currentDatabase.isOnline()){\r\n            let lista= await currentDatabase.getInformation(\"/listas\")\r\n            setLista(lista.lista)\r\n        }\r\n        return true\r\n    }\r\n\r\n \r\n\r\n    const updateListaEspera=publisher=>{\r\n        const newState=[]\r\n        for (let i=0; i<lista.length; i++){\r\n            newState.push(lista[i])\r\n         }\r\n            if(containsObject(publisher, newState)) return false;\r\n             if (checkParticipacion(publisher)){\r\n                 newState.push(publisher)\r\n             }else{\r\n                 var nobodyParticipated=true\r\n                 for (let i=0; i<newState.length; i++){\r\n                    if (checkParticipacion(newState[i])){\r\n                        newState.splice(i,0,publisher)\r\n                        nobodyParticipated=false\r\n                        break;\r\n                    }\r\n                 }\r\n                 if(nobodyParticipated){\r\n                     newState.push(publisher)\r\n                 }\r\n             }\r\n             \r\n             \r\n       setLista(newState)\r\n       updateServerLista(newState)       \r\n      }\r\n\r\n    const checkParticipacion = publisher =>{\r\n        return history.indexOf(publisher)!=-1;\r\n    }\r\n   \r\n    const deleteElement=(publisher) =>{\r\n        const newLista=[...lista]\r\n        newLista.splice(newLista.indexOf(publisher),1)\r\n        setLista(newLista)   \r\n        updateServerLista(newLista)  \r\n        return newLista\r\n        \r\n    }\r\n\r\n    const modifyCurrentName = (publisher) =>{\r\n        const newLista=deleteElement(publisher);\r\n        setHistory([...history, publisher])\r\n        props.replacePublicador(publisher)\r\n        handleModalClose()\r\n      }\r\n    return (\r\n        <Modal show={show} onHide={handleModalClose}>\r\n        <Modal.Header closeButton>\r\n            <Modal.Title>Lista de espera</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n\r\n        <Form.Group as={Row}>\r\n                        <Form.Label column sm=\"4\">\r\n                            Publicador\r\n                        </Form.Label>\r\n                        <Col sm=\"8\">\r\n                        <InputGroup>\r\n                            <Select options={props.allPublicadores} styles={customStyles} name=\"fldPublicador\"  onChange={handleChange} />\r\n                            <InputGroup.Append>\r\n                                <Button variant=\"outline-secondary\" onClick={addGuest}><FontAwesomeIcon icon=\"hiking\"/></Button>           \r\n                            </InputGroup.Append>\r\n                        </InputGroup>   \r\n                       </Col> \r\n                    </Form.Group>\r\n\r\n                    <div  styles={{paddingTop:\"20%\"}}>\r\n    {lista.map((item,index) => (\r\n    <a key={item.value} \r\n        className='list-group-item list-group-item-action flex-column align-items-start'>\r\n        <div className='d-flex w-100 justify-content-between'>\r\n            <h5 className='mb-1' onClick={() => {modifyCurrentName(item)}}>\r\n                <span className='currentNumber'> {index+1}# </span> {item.label} \r\n            </h5><small className='text-muted'>\r\n            <FontAwesomeIcon icon='trash-alt' onClick={() => {deleteElement(item)}} /></small></div></a>))}\r\n                    </div>\r\n\r\n        </Modal.Body>\r\n        </Modal>\r\n    )\r\n})\r\n\r\nexport default ModalLista","import React, {useEffect} from \"react\"\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Notiflix from \"notiflix-react\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\nconst ModalIngresar = (props) => { \r\n    \r\n    \r\n    var campos={}\r\n    props.fields.forEach(field => {\r\n            campos= {\r\n                ...campos,\r\n                [field.name]: field.default\r\n            }\r\n    })\r\n    const [fields, setFields]= React.useState(campos)\r\n    const handleChange = event => {\r\n        const target= event.target\r\n        if (target.type===\"checkbox\"){\r\n            setFields(prevState =>{\r\n                return {...prevState, [target.name]: target.checked}\r\n            })\r\n        }else{\r\n            setFields(prevState =>{\r\n                return {...prevState,[target.name]: target.value}\r\n            })\r\n        }\r\n    }\r\n    const handleModalClose=event =>{\r\n        props.setShow(false)\r\n        console.log(fields)\r\n    }\r\n    const handleSubmit=event =>{\r\n        event.preventDefault()\r\n        let result=props.submitFunction(fields)\r\n        if (result){\r\n            setFields(campos)\r\n        }\r\n    }\r\n    \r\n   \r\n        return (\r\n    \r\n            <Modal show={props.show} onHide={handleModalClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Agregar {props.tipo}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                {props.fields.map((item, index) =>(\r\n                    <Form.Group as={Row} key={index}>\r\n                    <Form.Label column sm=\"4\">\r\n                        {item.label}\r\n                    </Form.Label>\r\n                    <Col sm=\"8\">\r\n                        <Form.Control type={item.type} name={item.name} value={fields.[item.name]} checked={fields.[item.name]} onChange={handleChange}/>\r\n                        \r\n                   </Col> \r\n                </Form.Group>\r\n                ))}\r\n                <div className=\"text-center\" >\r\n                    <Button variant=\"primary\" onClick={handleSubmit}>\r\n                        Agregar\r\n                    </Button>\r\n                </div>\r\n            </Modal.Body>\r\n            </Modal>\r\n        )\r\n  }\r\n\r\n  export default ModalIngresar","import React from \"react\"\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Record from \"../../models/Record\"\r\nimport Publicador from \"../../models/Publicador\"\r\nimport Publico from \"../../models/Publico\"\r\nimport Medio from \"../../models/Medio\"\r\nimport ModalManage from \"../Modals/ModalManage\"\r\nimport Notiflix from \"notiflix-react\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport Select from \"react-select\"\r\nimport ModalLista from \"../Modals/ModalLista\"\r\nimport ModalIngresar from \"../Modals/ModalIngresar\"\r\n\r\n\r\n\r\n  const customStyles = {\r\n    menu: (provided, state) => ({\r\n      ...provided,\r\n      backgroundColor: \"#181818\",\r\n      color: \"#AEBEAE\",\r\n      zIndex: 3\r\n    }),\r\n    option:(provided,state) =>({\r\n        ...provided,\r\n        backgroundColor: state.isFocused ? \"#222222\" : \"181818\",\r\n      color: \"#AEBEAE\"\r\n    }),\r\n    input: (provided, state)=> ({\r\n    ...provided,\r\n      color: \"#AEBEAE\"\r\n    }),\r\n    control: (provided, state) => ({\r\n      ...provided,\r\n      background: \"transparent\",\r\n      borderColor: \"#404040\"\r\n      \r\n    }),\r\n    singleValue: (provided, state) => {\r\n  \r\n      return { ...provided, color: \"#AEBEAE\" };\r\n    }\r\n  }\r\n\r\nconst  RegistroBody = React.forwardRef((props, ref) => {\r\n    const [showModalIngresarPublicador, setShowModalIngresarPublicador] =React.useState(false)\r\n    const [showModalIngresarMedio, setShowModalIngresarMedio] =React.useState(false)\r\n    const [showModalIngresarPublico, setShowModalIngresarPublico] =React.useState(false)\r\n    const [fldForm,setFldForm] = React.useState({\r\n        fldPublicador:{\r\n            value:\"0\",\r\n            label: \"Seleccione\"\r\n        },\r\n        fldDestinatario: 1,\r\n        fldMedio:1,\r\n        fldTextos:0,\r\n        fldTipo:\"0\"\r\n    });\r\n\r\n    const modalRefPublicadores=React.useRef(null)\r\n    const modalRefMedios=React.useRef(null)\r\n    const modalRefPublicos=React.useRef(null)\r\n    const modalRefLista=React.useRef(null)\r\n\r\n \r\n\r\n    const handleModalOpen= tipo =>{\r\n        if (tipo==\"publicadores\"){\r\n            modalRefPublicadores.current.handleModalOpen()\r\n        }else{\r\n            if (tipo==\"publicos\"){\r\n                modalRefPublicos.current.handleModalOpen()\r\n            }else{\r\n                if(tipo==\"lista\"){\r\n                    modalRefLista.current.handleModalOpen()\r\n                }else{\r\n                    modalRefMedios.current.handleModalOpen()\r\n                }\r\n                \r\n            }\r\n        }\r\n        //modalRef.current.handleModalOpen()\r\n    }\r\n\r\n    const resetForm=()=>{\r\n            setFldForm({\r\n                fldPublicador:{\r\n                    value:\"0\",\r\n                    label: \"Seleccione\"\r\n                },\r\n                fldDestinatario: 1,\r\n                fldMedio:1,\r\n                fldTextos:0,\r\n                fldTipo:\"0\"\r\n            })\r\n        }\r\n    React.useImperativeHandle(ref, () => ({\r\n        reset(){\r\n            resetForm()\r\n        },\r\n        openLista(){\r\n            handleModalOpen(\"lista\")\r\n        }\r\n    }))\r\n\r\n    const replacePublicador=(item)=>{\r\n        setFldForm({...fldForm,fldPublicador: item})\r\n    }\r\n  \r\n    \r\n    \r\n    const handleChange= event =>{\r\n        \r\n        if(\"target\" in event){\r\n            let {name, value} = event.target\r\n            setFldForm({...fldForm,[name]: value})\r\n        }else{\r\n            setFldForm({...fldForm,fldPublicador: event})\r\n        }\r\n       \r\n    }\r\n    const handleSubmit= async (event) =>{\r\n        event.preventDefault()\r\n        if (fldForm.fldPublicador.value==0) return false\r\n        Notiflix.Loading.Arrows('Agregando registro');\r\n        \r\n        \r\n        let currentRecord=await Record.insert(fldForm.fldPublicador.value,fldForm.fldMedio, fldForm.fldDestinatario, fldForm.fldTextos, fldForm.fldTipo)\r\n        Notiflix.Loading.Remove()\r\n        resetForm()\r\n        Notiflix.Notify.Success(\"Registro agregado\")\r\n    }\r\n    const increment=()=>{\r\n        setFldForm(prevState=>{\r\n            return {\r\n                ...fldForm,\r\n                fldTextos: prevState.fldTextos + 1\r\n            }\r\n        })\r\n        \r\n    }\r\n    const decrement=()=>{\r\n        setFldForm(prevState=>{\r\n            return {\r\n                ...fldForm,\r\n                fldTextos: prevState.fldTextos - 1\r\n            }\r\n        })\r\n    }\r\n    const deletePublicador=async (id) =>{\r\n        Notiflix.Loading.Arrows('Eliminando publicador');\r\n        let targetPublicador= await Publicador.getById(id)\r\n        if (targetPublicador!=false) await targetPublicador.delete()\r\n        Notiflix.Notify.Success(\"Publicador eliminado\")\r\n        Notiflix.Loading.Remove()\r\n        props.refreshData({publicadores: true})\r\n    }\r\n    const deleteMedio= async(id)=>{\r\n        Notiflix.Loading.Arrows('Eliminando medio');\r\n        let targetMedio=await Medio.getById(id)\r\n        if (targetMedio!=false) await targetMedio.delete()\r\n        Notiflix.Notify.Success(\"Medio eliminado\")\r\n        Notiflix.Loading.Remove()\r\n        props.refreshData({medios: true})\r\n    }\r\n    const deletePublico= async(id)=>{\r\n        Notiflix.Loading.Arrows('Eliminando público');\r\n        let targetPublico=await Publico.getById(id)\r\n        if (targetPublico!=false) await targetPublico.delete()\r\n        Notiflix.Notify.Success(\"Publico eliminado\")\r\n        Notiflix.Loading.Remove()\r\n        props.refreshData({publicos: true})\r\n    }\r\n    const openModalIngresar=(tipo)=>{\r\n        if (tipo===\"publicador\"){\r\n            setShowModalIngresarPublicador(true)\r\n        }else{\r\n            if (tipo===\"medio\"){\r\n                setShowModalIngresarMedio(true)\r\n            }else{\r\n                setShowModalIngresarPublico(true)\r\n            }\r\n        }\r\n    }\r\n    const addPublicador= async( fields)=>{\r\n        if (fields.nombre===null || fields.nombre===undefined || fields.nombre.trim()===\"\" ) return false\r\n        if (fields.grupo===null || fields.grupo===undefined || fields.grupo.trim()===\"\" ) return false\r\n        Notiflix.Loading.Arrows('Agregando publicador');\r\n        let newObject= await Publicador.insert(fields.nombre, fields.grupo, fields.isInvitado)\r\n        Notiflix.Loading.Remove()\r\n        await props.refreshData({publicadores: true})\r\n        Notiflix.Notify.Success(\"Publicador agregado\")\r\n        setFldForm({\r\n            ...fldForm,\r\n            fldPublicador:{\r\n                value: newObject.id,\r\n                label: newObject.nombre\r\n            }\r\n        })\r\n        return true\r\n    }\r\n    const addMedio= async(fields)=>{\r\n        if (fields.nombre===null || fields.nombre===undefined || fields.nombre.trim()===\"\" ) return false\r\n        if (fields.color===null || fields.color===undefined || fields.color.trim()===\"\" ) return false\r\n        Notiflix.Loading.Arrows('Agregando medio');\r\n       \r\n        let newObject=await Medio.insert(fields.nombre, fields.color)\r\n        Notiflix.Loading.Remove()\r\n        await props.refreshData({medios:true})\r\n        Notiflix.Notify.Success(\"Medio agregado\")\r\n        setFldForm({\r\n            ...fldForm,\r\n            fldMedio:newObject.id\r\n        })\r\n        return true\r\n    }\r\n    const addPublico= async(fields)=>{\r\n        if (fields.nombre===null || fields.nombre===undefined || fields.nombre.trim()===\"\" ) return false\r\n        if (fields.color===null || fields.color===undefined || fields.color.trim()===\"\" ) return false\r\n        Notiflix.Loading.Arrows('Agregando público');\r\n        let newObject=await Publico.insert(fields.nombre, fields.color)\r\n        Notiflix.Loading.Remove()\r\n        Notiflix.Notify.Success(\"Publico agregado\")\r\n        await props.refreshData({publicos: true})\r\n        \r\n        setFldForm({\r\n            ...fldForm,\r\n            fldDestinatario: newObject.id\r\n        })\r\n        return true\r\n    }\r\n        return(\r\n            <Form onSubmit={handleSubmit}>\r\n                \r\n            <div className=\"card-body\">\r\n                <div className=\"container\" >\r\n                    <Form.Group as={Row}>\r\n                        <Form.Label column sm=\"4\">\r\n                            Publicador\r\n                        </Form.Label>\r\n                        <Col sm=\"8\">\r\n                        <InputGroup>\r\n                            <Select options={props.allPublicadores} styles={customStyles} name=\"fldPublicador\" value={fldForm.fldPublicador} onChange={handleChange} />\r\n                            <InputGroup.Append>\r\n                                <Button variant=\"outline-secondary\" onClick={() => {openModalIngresar(\"publicador\")}}><FontAwesomeIcon icon=\"plus-square\"/></Button>                  \r\n                                <Button variant=\"outline-secondary\" onClick={()=> handleModalOpen(\"publicadores\")}><FontAwesomeIcon icon=\"pencil-alt\" /></Button>\r\n                                <Button variant=\"outline-secondary\" onClick={()=> handleModalOpen(\"lista\")}><FontAwesomeIcon icon=\"ellipsis-h\" /></Button>\r\n                               \r\n                                \r\n                                <ModalManage tipo=\"Publicadores\" allElements={props.allPublicadores} ref={modalRefPublicadores}\r\n                                        refreshData={props.refreshData} deleteFunction={deletePublicador}/>\r\n                                <ModalIngresar \r\n                                show={showModalIngresarPublicador} \r\n                                setShow={setShowModalIngresarPublicador} \r\n                                tipo=\"Publicador\"\r\n                                submitFunction={addPublicador}\r\n                                fields={[\r\n                                    {name: \"nombre\", type: \"text\", label: \"Nombre\", default: \"\"}, \r\n                                    {name: \"grupo\", type: \"number\", label: \"Grupo\", default: \"0\"}, \r\n                                    {name: \"isInvitado\", type: \"checkbox\", label: \"¿Es invitado?\", default:false}]} \r\n                                />\r\n\r\n                            </InputGroup.Append>\r\n                        </InputGroup>   \r\n                       </Col> \r\n                    </Form.Group>\r\n                    <Form.Group as={Row}>\r\n                        <Form.Label column sm=\"4\">\r\n                            Destinatario\r\n                        </Form.Label>\r\n                        <Col sm=\"8\">\r\n                            <InputGroup>\r\n                            <Form.Control as=\"select\" name=\"fldDestinatario\" value={fldForm.fldDestinatario} onChange={handleChange}>\r\n                                { props.allPublicos.map(item => <option key={item.value} value={item.value}>{item.label}</option> ) }\r\n                            </Form.Control>\r\n                            <InputGroup.Append>\r\n                                <Button variant=\"outline-secondary\" onClick={() => {openModalIngresar(\"publico\")}}><FontAwesomeIcon icon=\"plus-square\" /></Button>\r\n                                <Button variant=\"outline-secondary\" onClick={()=> handleModalOpen(\"publicos\")}><FontAwesomeIcon icon=\"pencil-alt\" /></Button>\r\n                                <ModalManage tipo=\"Destinatarios\" allElements={props.allPublicos} ref={modalRefPublicos}\r\n                                    refreshData={props.refreshData} deleteFunction={deletePublico}/>\r\n                                    <ModalIngresar \r\n                                show={showModalIngresarPublico} \r\n                                setShow={setShowModalIngresarPublico} \r\n                                tipo=\"Destinatario\"\r\n                                submitFunction={addPublico}\r\n                                fields={[\r\n                                    {name: \"nombre\", type: \"text\", label: \"Nombre\", default: \"\"}, \r\n                                    {name: \"color\", type: \"color\", label: \"Color\", default:\"\"}]} \r\n                                />\r\n                            </InputGroup.Append>\r\n                            </InputGroup>\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row}>\r\n                        <Form.Label column sm=\"4\">\r\n                            Medio\r\n                        </Form.Label>\r\n                        <Col sm=\"8\">\r\n                            <InputGroup>\r\n                            <Form.Control as=\"select\" name=\"fldMedio\" value={fldForm.fldMedio} onChange={handleChange}>\r\n                            { props.allMedios.map(item => <option key={item.value} value={item.value}>{item.label}</option> ) }\r\n                            \r\n                            </Form.Control>\r\n                            <InputGroup.Append>\r\n                                <Button variant=\"outline-secondary\" onClick={() => {openModalIngresar(\"medio\")}}><FontAwesomeIcon icon=\"plus-square\" /></Button>\r\n                                <Button variant=\"outline-secondary\" onClick={()=> handleModalOpen(\"medios\")}><FontAwesomeIcon icon=\"pencil-alt\" /></Button>\r\n                                <ModalManage tipo=\"Medios\" allElements={props.allMedios} ref={modalRefMedios}\r\n                                    refreshData={props.refreshData} deleteFunction={deleteMedio}/>\r\n                                <ModalIngresar \r\n                                show={showModalIngresarMedio} \r\n                                setShow={setShowModalIngresarMedio} \r\n                                tipo=\"Medio\"\r\n                                submitFunction={addMedio}\r\n                                fields={[\r\n                                    {name: \"nombre\", type: \"text\", label: \"Nombre\", default: \"\"}, \r\n                                    {name: \"color\", type: \"color\", label: \"Color\", default:\"\"}]} \r\n                                />\r\n                            </InputGroup.Append>\r\n                            </InputGroup>\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row}>\r\n                        <Form.Label column sm=\"4\">\r\n                            Textos bíblicos\r\n                        </Form.Label>\r\n                        <Col sm=\"8\">\r\n                        <InputGroup>\r\n                            <InputGroup.Prepend>\r\n                                <Button variant=\"outline-secondary\" onClick={decrement}>-</Button>\r\n                            </InputGroup.Prepend>\r\n                            <FormControl name=\"fldTextos\" value={fldForm.fldTextos} onChange={handleChange}/>\r\n                                \r\n                            <InputGroup.Append>\r\n                                <Button variant=\"outline-secondary\" onClick={increment}>+</Button>\r\n                            </InputGroup.Append>\r\n                        </InputGroup>\r\n                        </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row}>\r\n                        <Form.Label column sm=\"4\">\r\n                            Tipo\r\n                        </Form.Label>\r\n                        <Col sm=\"8\">\r\n                                <Form.Check \r\n                                    type=\"radio\"\r\n                                    name=\"fldTipo\"\r\n                                    label=\"Primera visita\"\r\n                                    value=\"0\"\r\n                                    checked={fldForm.fldTipo===\"0\"}\r\n                                    onChange={handleChange}\r\n                                />\r\n\r\n                                <Form.Check\r\n                                    type=\"radio\"\r\n                                    label=\"Revisita\"\r\n                                    name=\"fldTipo\"\r\n                                    value=\"1\"\r\n                                    checked={fldForm.fldTipo===\"1\"}\r\n                                    onChange={handleChange}\r\n                                />\r\n                        </Col>\r\n                    </Form.Group>\r\n                </div>\r\n                <div className=\"text-center\" >\r\n                    <Button variant=\"primary\" type=\"submit\">\r\n                        Guardar registro\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n            <ModalLista allPublicadores={props.allPublicadores} ref={modalRefLista}\r\n                                       addPublicador={addPublicador} refreshData={props.refreshData} replacePublicador={replacePublicador} />\r\n         \r\n            \r\n            </Form>\r\n        )\r\n})\r\nexport default RegistroBody","import React, {useEffect} from \"react\"\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport {currentDatabase} from '../../Database'\r\nimport Notiflix from \"notiflix-react\"\r\n\r\n\r\n\r\n\r\n\r\nconst ModalImportDB = React.forwardRef((props, ref) => {  \r\n    const [show, setShow] = React.useState(false)\r\n    const handleChange=e=>{\r\n        let files=e.target.files\r\n        handleFiles(files)\r\n    }\r\n    \r\n\r\n    \r\n    const handleModalClose=event =>{\r\n        setShow(false)\r\n    }\r\n    React.useImperativeHandle(ref, () => ({\r\n        handleModalOpen(event){\r\n            setShow(true)\r\n        }\r\n    }))\r\n    const handleFiles=(files)=>{\r\n        currentDatabase.importDatabase(files, props.refreshData)\r\n        \r\n        handleModalClose()\r\n        Notiflix.Report.Success('Información','Base de datos importada con éxito','OK');\r\n    }\r\n    \r\n    const handleDrop=(e)=>{\r\n        let dt = e.dataTransfer\r\n  let files = dt.files\r\nhandleFiles(files)\r\n\r\n    }\r\n\r\n    const highlight =(e)=>{\r\n        document.getElementById('drop-area').classList.add('highlight')\r\n      }\r\n      \r\n    const unhighlight=(e) => {\r\n        document.getElementById('drop-area').classList.remove('highlight')\r\n      }\r\n     const preventDefaults= (e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n      }\r\n\r\n      useEffect(() => {\r\n\r\n        if (show){\r\n            ;['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {\r\n                document.getElementById('drop-area').addEventListener(eventName, preventDefaults, false)\r\n            })\r\n            \r\n            ;['dragenter', 'dragover'].forEach(eventName => {\r\n                document.getElementById('drop-area').addEventListener(eventName, highlight, false)\r\n            })\r\n\r\n            ;['dragleave', 'drop'].forEach(eventName => {\r\n                document.getElementById('drop-area').addEventListener(eventName, unhighlight, false)\r\n            })\r\n\r\n            document.getElementById('drop-area').addEventListener('drop', handleDrop, false)\r\n            \r\n            }\r\n            // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        }, [show])\r\n   \r\n        return (\r\n    \r\n            <Modal show={show} onHide={handleModalClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Importar base de datos</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n            <div id=\"drop-area\">\r\n                <form className=\"my-form\">\r\n                    <p>Arrastre el archivo con extensión .RCCH o pulse el siguiente botón para buscarlo</p>\r\n                    <input type=\"file\" id=\"fileElem\" name=\"fileElem\" onChange={handleChange} />\r\n                    <label className=\"btn btn-primary\" htmlFor=\"fileElem\">Buscar archivo</label>\r\n                </form>\r\n                </div>\r\n            </Modal.Body>\r\n            </Modal>\r\n        )\r\n  })\r\n\r\n  export default ModalImportDB","import React, {useEffect} from \"react\"\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Notiflix from \"notiflix-react\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport Record from \"../../models/Record\"\r\nimport {timeSince} from \"../../Utils\"\r\n\r\n\r\n\r\n\r\n\r\nconst ModalHistorial = React.forwardRef((props, ref) => {  \r\n    const [show, setShow] = React.useState(false) \r\n\r\n    \r\n    const handleModalClose=event =>{\r\n        setShow(false)\r\n    }\r\n    React.useImperativeHandle(ref, () => ({\r\n        async handleModalOpen(event){\r\n            Notiflix.Loading.Arrows('Cargando datos');\r\n            props.refreshData({records: true})\r\n            setShow(true)\r\n            Notiflix.Loading.Remove()\r\n        }\r\n    }))\r\n\r\n    const deleteRecord=async (id) =>{\r\n        Notiflix.Loading.Arrows('Eliminando registro');\r\n        let targetRecord=await Record.getById(id)\r\n        if (targetRecord!=false) await targetRecord.delete()\r\n        Notiflix.Notify.Success(\"Carta eliminada\")\r\n        Notiflix.Loading.Remove()\r\n        props.refreshData({records: true})\r\n    }\r\n\r\n   \r\n \r\n   \r\n        return (\r\n    \r\n            <Modal show={show} onHide={handleModalClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Historial de cartas</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n        {props.allElements.map(item => <a key={item.id} className=\"list-group-item list-group-item-action flex-column align-items-start\"><div key={\"div\"+item.id} className='d-flex w-100 justify-content-between' ><h5 key={\"h5\"+item.id} className='mb-1'>{item.publicador}</h5><small key={\"small\"+item.id} className='text-muted'> {timeSince(item.hora)} <FontAwesomeIcon key={\"fw\"+item.id} onClick={() => deleteRecord(item.id)} icon=\"trash-alt\" /></small></div><p className='mb-1'><font color={item.tipo==0 ? \"purple\" : \"orange\"}>{item.tipo==0 ? \"Primera visita\" : \"Revisita\"}</font> a {item.publico}</p><small className='text-muted'>Enviada por {item.medio}</small></a>)}\r\n            </Modal.Body>\r\n            </Modal>\r\n        )\r\n  })\r\n\r\n  export default ModalHistorial","\r\nconst timeSince=date => {\r\n    if (typeof date !== 'object') {\r\n        date = new Date(date);\r\n      }\r\n\r\n      var seconds = Math.floor((new Date() - date) / 1000);\r\n      var intervalType;\r\n    \r\n      var interval = Math.floor(seconds / 31536000);\r\n      if (interval >= 1) {\r\n        intervalType = 'año';\r\n      } else {\r\n        interval = Math.floor(seconds / 2592000);\r\n        if (interval >= 1) {\r\n          intervalType = 'mes';\r\n        } else {\r\n          interval = Math.floor(seconds / 86400);\r\n          if (interval >= 1) {\r\n            intervalType = 'día';\r\n          } else {\r\n            interval = Math.floor(seconds / 3600);\r\n            if (interval >= 1) {\r\n              intervalType = \"hora\";\r\n            } else {\r\n              interval = Math.floor(seconds / 60);\r\n              if (interval >= 1) {\r\n                intervalType = \"minuto\";\r\n              } else {\r\n                interval = seconds;\r\n                intervalType = \"segundo\";\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n      if (interval > 1 || interval === 0) {\r\n        intervalType += 's';\r\n      }\r\n    \r\n      return \"Hace \"+ interval + ' ' + intervalType;\r\n}\r\n\r\nexport {timeSince} ","import React from \"react\"\r\n\r\nconst ChartLabel= (props) =>{\r\n    return (\r\n        <div style={{display: \"inline-block\", paddingRight: 20}}>\r\n            <div style={{\r\n  height: \"1.5em\",\r\n  width: 30,\r\n  backgroundColor: props.color,\r\n  float: \"left\"\r\n}}></div>\r\n            \r\n            <div style={{paddingLeft: 10, float: \"left\"}}>{props.label} </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChartLabel","import React, {useState} from \"react\"\r\nimport Record from \"../../models/Record\"\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Notiflix from \"notiflix-react\"\r\nimport Carousel from 'react-bootstrap/Carousel'\r\nimport ChartLabel from \"../Otros/ChartLabel\"\r\n\r\nimport { PieChart } from 'react-minimal-pie-chart'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nconst EstadisticasItem= (props) =>{\r\n    return (\r\n        <div style={{float:\"left\", width: props.width, textAlign: \"center\", height: 80, marginTop:10}}> \r\n            <h4>{props.label}</h4>\r\n            <h4 styles={{marginTop: 10}}>\r\n                {props.value} <FontAwesomeIcon icon={props.icon} style={props.color} />\r\n            </h4>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nconst ModalEstadisticas= React.forwardRef((props, ref)=>{\r\n    const [show, setShow] = React.useState(false) \r\n    const [estadisticas, setEstadisticas] = React.useState(\r\n        {\r\n            cartas:0,\r\n            publicadores:0,\r\n            textos:0,\r\n            revisitas:0,\r\n            porPublicador:0,\r\n            publicos:[\r\n                { title: 'One', value: 10, color: '#E38627' },\r\n                { title: 'Two', value: 15, color: '#C13C37' },\r\n                { title: 'Three', value: 20, color: '#6A2135' }\r\n            ],\r\n            medios: [\r\n                { title: 'One', value: 10, color: '#E38627' },\r\n                { title: 'Two', value: 15, color: '#C13C37' },\r\n                { title: 'Three', value: 20, color: '#6A2135' }\r\n            ]\r\n        })\r\n    \r\n       \r\n    const handleModalClose=event =>{\r\n        setShow(false)\r\n    }\r\n\r\n    React.useImperativeHandle(ref, () => ({\r\n        async handleModalOpen(event){\r\n            \r\n            Notiflix.Loading.Arrows('Cargando estadisticas');\r\n            await loadData()\r\n            setShow(true)\r\n            Notiflix.Loading.Remove()\r\n        }\r\n    }))\r\n\r\n    const loadData=async ()=>{\r\n        const stats= await Record.getDailyStats()\r\n        setEstadisticas(stats)\r\n        \r\n    }\r\n    return (\r\n        <Modal show={show} onHide={handleModalClose}>\r\n        <Modal.Header closeButton>\r\n            <Modal.Title>Estadísticas del día de hoy</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n\r\n        <Carousel interval={5000000000}>\r\n  <Carousel.Item>\r\n  <h1 className=\"display-5\" style={{textAlign: \"center\"}}>¿Cómo nos fue?</h1>\r\n        <EstadisticasItem label=\"Cartas\" value={estadisticas.cartas} icon=\"envelope\" color={{color:\"brown\"}}   width=\"50%\"/>\r\n        <EstadisticasItem label=\"Publicadores\" value={estadisticas.publicadores} icon=\"hand-paper\" color={{color:\"green\"}}  width=\"50%\" />\r\n        <EstadisticasItem label=\"Textos\" value={estadisticas.textos} icon=\"book\" color={{color:\"grey\"}}   width=\"50%\"/>\r\n        <EstadisticasItem label=\"Revisitas\" value={estadisticas.revisitas} icon=\"undo-alt\" color={{color:\"orange\"}}  width=\"50%\" />\r\n        <EstadisticasItem label=\"Cartas por publicador\" value={Math.round(estadisticas.porPublicador,1)} icon=\"user-edit\" color={{color:\"blue\"}}  width=\"100%\" />\r\n\r\n    \r\n  </Carousel.Item>\r\n  <Carousel.Item>\r\n  <h1 className=\"display-5\" style={{textAlign: \"center\"}}>¿A quién enviaremos?</h1>\r\n  <PieChart style={{height:300}}\r\n  data={estadisticas.publicos}\r\n  label={({ dataEntry }) => `${Math.round(dataEntry.percentage)}%`}\r\n  labelStyle={{\r\n    fontSize: '5px',\r\n    fontFamily: 'sans-serif',\r\n    fill: \"white\"\r\n  }\r\n  }\r\n/>\r\n<div style={{textAlign: \"center\", paddingTop: 10}}>\r\n{estadisticas.publicos.map (item =>{ return (<ChartLabel color={item.color} label ={item.title} />) })}\r\n</div>\r\n\r\n\r\n  </Carousel.Item>\r\n  <Carousel.Item>\r\n  <h1 className=\"display-5\" style={{textAlign: \"center\"}}>¿Cómo se enviarán?</h1>\r\n  <PieChart style={{height:300}}\r\n  data={estadisticas.medios}\r\n  label={({ dataEntry }) => `${Math.round(dataEntry.percentage)}%`}\r\n  labelStyle={{\r\n    fontSize: '5px',\r\n    fontFamily: 'sans-serif',\r\n    fill: \"white\"\r\n  }\r\n  }\r\n/>\r\n\r\n<div style={{textAlign: \"center\", paddingTop: 10}}>\r\n{estadisticas.medios.map (item =>{ return (<ChartLabel color={item.color} label ={item.title} />) })}\r\n</div>\r\n  </Carousel.Item>\r\n</Carousel>\r\n\r\n        </Modal.Body>\r\n        </Modal>\r\n    )\r\n})\r\n\r\nexport default ModalEstadisticas","import React from \"react\"\r\nimport Dropdown from 'react-bootstrap/Dropdown'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport ModalImportDB from \"../Modals/ModalImportDB\"\r\nimport ModalHistorial from \"../Modals/ModalHistorial\"\r\nimport ModalEstadisticas from \"../Modals/ModalEstadisticas\"\r\nimport {currentDatabase} from \"../../Database\"\r\nimport Notiflix from \"notiflix-react\"\r\n\r\n\r\nconst RegistroHeader = (props)=>{\r\n   \r\n    const modalRef=React.useRef(null)\r\n    const modalHistoryRef=React.useRef(null)\r\n    const modalEstadisticasRef=React.useRef(null)\r\n\r\n    \r\n\r\n    const handleModalOpen= event =>{\r\n        modalRef.current.handleModalOpen()\r\n    }\r\n    const handleModalHistoryOpen= event =>{\r\n        modalHistoryRef.current.handleModalOpen()\r\n    }\r\n    const createNewDatabase= () => {\r\n    const confirmacion=window.confirm(\"Se borrarán todos los datos guardados\");\r\n        if (confirmacion){\r\n            currentDatabase.createDatabase()\r\n            props.refreshData()\r\n        }\r\n        \r\n    }\r\n    const handleModalEstadisticasOpen= event =>{\r\n        modalEstadisticasRef.current.handleModalOpen()\r\n    }\r\n        return(\r\n            <div className=\"card-header\">\r\n                                <Dropdown style={{float: \"left\"}}>\r\n                                    <Dropdown.Toggle as={CustomToggle} id=\"dropdown-basic\" />\r\n                                    <Dropdown.Menu>\r\n                                        <Dropdown.Item onClick={createNewDatabase} style={props.online ? {display: \"none\"} : {}}> <FontAwesomeIcon icon=\"file\" /> Nueva base de datos</Dropdown.Item>\r\n                                        <Dropdown.Item onClick={handleModalOpen}  style={props.online ? {display: \"none\"} : {}}><FontAwesomeIcon icon=\"folder\" /> Abrir base de datos</Dropdown.Item>\r\n                                        <Dropdown.Item onClick={() =>{\r\n                                            currentDatabase.exportExistingDatabase()\r\n                                        }}  style={props.online ? {display: \"none\"} : {}}><FontAwesomeIcon icon=\"download\" /> Descargar base de datos</Dropdown.Item>\r\n                                        <Dropdown.Item style={props.online ? {} : {display: \"none\"}} onClick={() =>{\r\n                                            Notiflix.Loading.Arrows('Cerrando sesión');\r\n                                            window.localStorage.removeItem(\"sessionToken\")\r\n                                            window.location.reload()\r\n                                        }}><FontAwesomeIcon icon=\"sign-out-alt\" /> Cerrar sesión</Dropdown.Item>\r\n                                        <Dropdown.Item onClick={props.showLista}><FontAwesomeIcon icon=\"ellipsis-h\" /> Lista de espera</Dropdown.Item>\r\n                                        <Dropdown.Item onClick={handleModalHistoryOpen}><FontAwesomeIcon icon=\"history\" /> Ver historial</Dropdown.Item>\r\n                                        <Dropdown.Item onClick={handleModalEstadisticasOpen}><FontAwesomeIcon icon=\"chart-pie\" /> Estadísticas</Dropdown.Item>\r\n                                        \r\n                                        <Dropdown.Item onClick={props.resetForm}><FontAwesomeIcon icon=\"undo-alt\" /> Reiniciar formulario</Dropdown.Item>\r\n                                        \r\n                                       \r\n                                        <Dropdown.Item onClick={()=> document.getElementById(\"darkSwitch\").click()}><FontAwesomeIcon icon=\"moon\" /> Activar/desactivar modo nocturno</Dropdown.Item>\r\n                                    </Dropdown.Menu>\r\n                                </Dropdown>\r\n                                <span style={{float: \"left\", marginLeft:5}}> Registro de cartas</span> \r\n                                <ModalImportDB ref={modalRef}\r\n                                    refreshData={props.refreshData}\r\n                                    />\r\n                                <ModalHistorial ref={modalHistoryRef}\r\n                                    refreshData={props.refreshData} allElements={props.allLetters} />\r\n                                    <ModalEstadisticas ref={modalEstadisticasRef} />\r\n                            </div>\r\n        )\r\n}\r\n\r\nconst CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n\r\n    <span ref={ref} onClick={(e) => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}>\r\n    <FontAwesomeIcon icon=\"cog\" />\r\n    {children}\r\n    </span>\r\n  ));\r\nexport default RegistroHeader","import React from \"react\"\r\nimport RegistroComponent from \"./RegistroComponent\"\r\nimport RegistroBody from \"./RegistroBody\"\r\nimport RegistroHeader from \"./RegistroHeader\"\r\n\r\n\r\n    \r\nconst RegistroContainer = (props)=> {\r\n    const bodyRef=React.useRef(null)\r\n    const resetForm=()=>{\r\n        bodyRef.current.reset();\r\n    }\r\n    const showLista=()=>{\r\n        bodyRef.current.openLista()\r\n    }\r\n    \r\n        return(\r\n            <RegistroComponent>\r\n                <RegistroHeader allLetters={props.allLetters} refreshData={props.refreshData} resetForm={resetForm} showLista={showLista} online={props.online}/>\r\n                <RegistroBody allPublicadores={props.allPublicadores} allPublicos={props.allPublicos} allMedios={props.allMedios} refreshData={props.refreshData} ref={bodyRef}/>\r\n            </RegistroComponent>\r\n                      \r\n        )\r\n}\r\n\r\n\r\n\r\n\r\nexport default RegistroContainer","import React, {useEffect} from \"react\"\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Notiflix from \"notiflix-react\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport axios from \"axios\"\r\n\r\n\r\n\r\n\r\nconst ModalLogin = props => {  \r\n    \r\n    const [show, setShow] = React.useState(props.show)   \r\n    const [fields, setFields] = React.useState({\r\n        server: \"\",\r\n        userName: \"\",\r\n        password: \"\"\r\n    })\r\n    const logIn=event =>{\r\n       \r\n        if (fields.server.trim()!=\"\" && fields.userName.trim!=\"\" && fields.password.trim()!=\"\"){\r\n            let servidor=fields.server.trim()\r\n            if(servidor.charAt(servidor.length-1) == \"/\"){ servidor = servidor.substr(0, servidor.length - 1);}\r\n            Notiflix.Loading.Arrows('Iniciando sesión');\r\n            axios.post(servidor+\"/usuarios/login\", { username: fields.userName, password: fields.password })\r\n            .then(res => {\r\n                Notiflix.Report.Success('Información','Inicio de sesión exitoso','OK');\r\n                Notiflix.Loading.Remove();\r\n                handleModalClose()\r\n                props.handleServerLogin(servidor,res.data.token)\r\n      }).catch(err => {\r\n        Notiflix.Report.Failure('Información','Credenciales erroneas, reintente','OK');\r\n        Notiflix.Loading.Remove();\r\n    })\r\n        }\r\n    }\r\n\r\n\r\n    const handleChange = event => {\r\n        const target= event.target\r\n        setFields(prevState =>{\r\n          return {...prevState,[target.name]: target.value}\r\n        })\r\n    }\r\n    const handleModalClose = () =>{\r\n        setShow(false)\r\n    }\r\n \r\n\r\n    React.useEffect(() => {\r\n        if(window.localStorage.getItem(\"server\")){\r\n          setFields(prevState =>{\r\n            return {...prevState, server: window.localStorage.getItem(\"server\") }\r\n          })\r\n        }\r\n      }, [])\r\n      React.useEffect(() => {\r\n        setShow(props.show)\r\n      }, [props.show])\r\n\r\n   \r\n        return (\r\n    \r\n            <Modal show={show} onHide={handleModalClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Iniciar sesión</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n            <Form.Group as={Row}>\r\n                    <Form.Label column sm=\"4\">\r\n                        Servidor: \r\n                    </Form.Label>\r\n                    <Col sm=\"8\">\r\n                        <Form.Control  name=\"server\" value={fields.server} onChange={handleChange}/>\r\n                   </Col> \r\n                </Form.Group>\r\n                <Form.Group as={Row}>\r\n                    <Form.Label column sm=\"4\">\r\n                        Usuario: \r\n                    </Form.Label>\r\n                    <Col sm=\"8\">\r\n                    <Form.Control  name=\"userName\" value={fields.userName} onChange={handleChange}/>\r\n                   </Col> \r\n                </Form.Group>\r\n                <Form.Group as={Row}>\r\n                    <Form.Label column sm=\"4\">\r\n                        Contraseña: \r\n                    </Form.Label>\r\n                    <Col sm=\"8\">\r\n                    <Form.Control  type=\"password\" name=\"password\" value={fields.password} onChange={handleChange}/>\r\n                   </Col> \r\n                </Form.Group>\r\n\r\n                <div className=\"text-center\" >\r\n                    <Button variant=\"primary\" block onClick={logIn}>\r\n                        Iniciar sesión\r\n                    </Button>\r\n                    <Button variant=\"secondary\" block onClick={handleModalClose}>\r\n                        Usar sin conexión\r\n                    </Button>\r\n                </div>\r\n\r\n           </Modal.Body>\r\n            </Modal>\r\n            \r\n            \r\n            \r\n        )\r\n  }\r\n\r\n  export default ModalLogin","import React from 'react';\nimport './App.css';\nimport Notiflix from \"notiflix-react\"\nimport Header from \"./components/Header\"\nimport {Database} from \"./Database\"\nimport RegistroContainer from \"./components/Registro/RegistroContainer\"\nimport ModalLogin from \"./components/Modals/ModalLogin\"\nimport Publicador from \"./models/Publicador\"\nimport Publico from \"./models/Publico\"\nimport Medio from \"./models/Medio\"\nimport Record from \"./models/Record\"\nimport {currentDatabase} from './Database'\n\n\n\n\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faAddressBook, faCog, faPlusSquare, faPencilAlt, faTrashAlt, faCommentDots, faEnvelope, faHandPaper, faBook, faUserEdit, faUndoAlt, faFile, faFolder, faDownload, faEllipsisH, faHistory, faChartPie, faMoon, faHiking, faSignOutAlt} from \"@fortawesome/free-solid-svg-icons\";\nlibrary.add(faAddressBook, faCog,faPlusSquare, faPencilAlt, faTrashAlt, faCommentDots, faEnvelope, faHandPaper, faBook, faUserEdit, faUndoAlt, faFile, faFolder, faDownload, faEllipsisH, faHistory, faChartPie, faMoon, faHiking, faSignOutAlt);\n\nNotiflix.Report.Init({\n  backgroundColor: '#222',\n  success: {\n      titleColor: '#bebebe',\n      messageColor: '#bebebe',\n      buttonColor: '#bebebe',\n  }\n})\n\n\n\nconst App=() =>{\n\n  const [allPublicadores,setAllPublicadores]= React.useState([])\n    const [allPublicos,setAllPublicos]= React.useState([])\n    const [allMedios, setAllMedios]= React.useState([])\n    const [allLetters, setAllLetters] = React.useState([])\n    const [showLogin, setShowLogin] =React.useState(false)\n    const [online, setOnline] = React.useState(false)\n\n    const refreshData = async (filtros)=>{\n      if (filtros==undefined) filtros={publicadores: true, publicos:true, medios:true, records:true}\n      if(currentDatabase!=null){\n        \n        if(window.localStorage.getItem(\"sessionToken\")!=undefined  && window.localStorage.getItem(\"sessionToken\")!=\"\"){\n          let response = await currentDatabase.initOnlineServer(window.localStorage.getItem(\"server\"), window.localStorage.getItem(\"sessionToken\"))\n          \n          if (response){\n            setOnline(true)\n              handleShowLogin(false)\n            }else{\n              handleShowLogin(true)\n            }\n          }else{\n            handleShowLogin(true)\n          }\n       if (filtros.publicadores){\n          let receivedPublicadores=await Publicador.getAllPublicadores()\n          setAllPublicadores(receivedPublicadores)\n       }\n       if (filtros.publicos){\n          let receivedPublicos=await Publico.getAllPublicos()\n          setAllPublicos(receivedPublicos)\n       }\n       if (filtros.medios){\n              \n       let receivedMedios= await Medio.getAllMedios()\n       setAllMedios(receivedMedios)\n       }\n       if (filtros.records){\n       let receivedLetters=await Record.getAllRecords()\n       setAllLetters(receivedLetters)\n       }\n       Notiflix.Loading.Remove()\n      }\n\n   }\n   \n   const handleServerLogin = async (server, token) =>{\n    const result= await currentDatabase.initOnlineServer(server,token)\n    if (result){\n      refreshData({publicadores: true, publicos:true, medios:true, records:true})\n      setOnline(true)\n    }\n}\nconst handleShowLogin = show=>{\n  setShowLogin(show)\n}\n\n\n\n\nReact.useEffect(() => {\n  Notiflix.Loading.Arrows('Cargando ambiente');\n  new Database(refreshData)\n  \n}, [])\n\n\n  \n\n\n    return (\n      \n        <div className=\"App\">\n          <ModalLogin show={showLogin} handleServerLogin={handleServerLogin} />\n            <Header  />\n            <RegistroContainer allLetters={allLetters} allPublicadores={allPublicadores} allPublicos={allPublicos} allMedios={allMedios} refreshData={refreshData} online={online} />\n        </div>\n      \n    )\n}\n\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}